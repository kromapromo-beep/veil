<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KROMA — Enter the Signal</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Rajdhani:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

:root {
  --black: #000000;
  --white: #f0f0f0;
  --white-pure: #ffffff;
  --gray-dark: #0a0a0a;
  --gray-mid: #1a1a1a;
  --gray-light: #2a2a2a;
  --gray-text: #666;
  --accent-red: #ff1a1a;
  --accent-blue: #00a2ff;
  --accent-green: #00e86e;
  --accent-yellow: #ffd600;
  --accent-cyan: #00f0ff;
  --accent-magenta: #ff00aa;
  --grain-opacity: 0.035;
  --transition-smooth: cubic-bezier(0.16, 1, 0.3, 1);
  --transition-cinematic: cubic-bezier(0.65, 0, 0.35, 1);
}

html { scroll-behavior: smooth; overflow-x: hidden; }

body {
  background: var(--black);
  color: var(--white);
  font-family: 'Rajdhani', sans-serif;
  overflow-x: hidden;
  cursor: default;
  -webkit-font-smoothing: antialiased;
}

/* Film Grain */
.film-grain {
  position: fixed; top:-50%; left:-50%;
  width: 200%; height: 200%;
  z-index: 10000; pointer-events: none;
  opacity: var(--grain-opacity);
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  animation: grain 0.5s steps(6) infinite;
}
@keyframes grain {
  0%,100%{transform:translate(0,0)}10%{transform:translate(-5%,-10%)}30%{transform:translate(7%,-25%)}50%{transform:translate(-15%,10%)}70%{transform:translate(0%,15%)}90%{transform:translate(-10%,10%)}
}

.vignette {
  position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;pointer-events:none;
  background:radial-gradient(ellipse at center,transparent 50%,rgba(0,0,0,0.7) 100%);
}

.scanlines {
  position:fixed;top:0;left:0;width:100%;height:100%;z-index:9998;pointer-events:none;
  background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,0.03) 2px,rgba(0,0,0,0.03) 4px);
}

/* Particles */
.particles-container {
  position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none;overflow:hidden;
}
.particle {
  position:absolute;width:2px;height:2px;background:rgba(255,255,255,0.15);border-radius:50%;
  animation:particleFloat linear infinite;
}
@keyframes particleFloat {
  0%{transform:translateY(100vh) translateX(0);opacity:0}10%{opacity:1}90%{opacity:1}100%{transform:translateY(-10vh) translateX(40px);opacity:0}
}

/* ═══ NAVIGATION ═══ */
.nav {
  position:fixed;top:0;left:0;width:100%;z-index:9990;
  padding:24px 48px;display:flex;align-items:center;justify-content:center;
  transition:all 0.6s var(--transition-smooth);background:transparent;
}
.nav.scrolled {
  background:rgba(0,0,0,0.88);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);
  padding:16px 48px;border-bottom:1px solid rgba(255,255,255,0.04);
}

.nav-links {
  display:flex;gap:48px;list-style:none;align-items:center;
}

.nav-link {
  font-family:'Orbitron',sans-serif;font-size:0.6rem;font-weight:500;
  letter-spacing:0.3em;text-transform:uppercase;color:var(--gray-text);
  text-decoration:none;cursor:pointer;transition:color 0.4s ease;
  position:relative;display:flex;align-items:center;gap:10px;
}

.nav-dot {
  width:7px;height:7px;border-radius:50%;border:1px solid currentColor;
  transition:all 0.4s var(--transition-smooth);opacity:0.4;
}

.nav-link:hover { color:var(--white-pure); }
.nav-link:hover .nav-dot { opacity:0.7; }

.nav-link.active { color:var(--white-pure); }
.nav-link.active .nav-dot { opacity:1; transform:scale(1.3); }

.nav-link[data-section="landing"] .nav-dot { background:var(--accent-red);border-color:var(--accent-red);box-shadow:0 0 8px var(--accent-red); }
.nav-link[data-section="music"] .nav-dot { background:var(--accent-blue);border-color:var(--accent-blue);box-shadow:0 0 8px var(--accent-blue); }
.nav-link[data-section="store"] .nav-dot { background:var(--accent-green);border-color:var(--accent-green);box-shadow:0 0 8px var(--accent-green); }
.nav-link[data-section="story"] .nav-dot { background:var(--accent-yellow);border-color:var(--accent-yellow);box-shadow:0 0 8px var(--accent-yellow); }
.nav-link[data-section="luxnox"] .nav-dot.luxnox-dot {
  background:transparent;
  border-color:rgba(255,255,255,0.45);border-width:1.5px;
  box-shadow:0 0 6px rgba(255,255,255,0.15);
}

.nav-link.active[data-section="landing"] .nav-dot { box-shadow:0 0 14px var(--accent-red),0 0 30px rgba(255,26,26,0.3); }
.nav-link.active[data-section="music"] .nav-dot { box-shadow:0 0 14px var(--accent-blue),0 0 30px rgba(0,162,255,0.3); }
.nav-link.active[data-section="store"] .nav-dot { box-shadow:0 0 14px var(--accent-green),0 0 30px rgba(0,232,110,0.3); }
.nav-link.active[data-section="story"] .nav-dot { box-shadow:0 0 14px var(--accent-yellow),0 0 30px rgba(255,214,0,0.3); }
.nav-link.active[data-section="luxnox"] .nav-dot.luxnox-dot {
  border-color:rgba(255,255,255,0.8);
  box-shadow:0 0 14px rgba(255,255,255,0.5),0 0 30px rgba(255,255,255,0.2);
}

/* Audio Toggle */
.audio-toggle {
  position:fixed;bottom:32px;right:32px;z-index:9991;
  width:44px;height:44px;border:1px solid rgba(255,255,255,0.12);border-radius:50%;
  background:rgba(0,0,0,0.6);backdrop-filter:blur(10px);cursor:pointer;
  display:flex;align-items:center;justify-content:center;gap:2px;
  transition:all 0.4s ease;
}
.audio-toggle:hover {
  border-color:var(--accent-cyan);box-shadow:0 0 20px rgba(0,240,255,0.15);
}
.audio-bar {
  width:2px;background:var(--white);border-radius:1px;transition:height 0.15s ease;
}
.audio-toggle.muted .audio-bar { height:2px !important; }
.audio-label {
  position:absolute;right:56px;top:50%;transform:translateY(-50%);
  font-family:'Space Mono',monospace;font-size:0.5rem;letter-spacing:0.2em;
  text-transform:uppercase;color:rgba(255,255,255,0.25);white-space:nowrap;
  opacity:0;transition:opacity 0.3s ease;pointer-events:none;
}
.audio-toggle:hover .audio-label { opacity:1; }

/* ═══ SECTIONS ═══ */
.section {
  display:none;min-height:100vh;position:relative;z-index:2;
}
.section.active {
  display:block;animation:sectionEnter 0.8s var(--transition-cinematic) forwards;
}
@keyframes sectionEnter {
  0%{opacity:0}100%{opacity:1}
}

/* ═══ HERO / LANDING ═══ */
.hero {
  min-height:100vh;display:flex;align-items:center;justify-content:center;
  position:relative;overflow:hidden;
}
.hero-bg {
  position:absolute;top:0;left:0;width:100%;height:100%;
  background:radial-gradient(ellipse at 30% 50%,rgba(255,26,26,0.04) 0%,transparent 60%),
              radial-gradient(ellipse at 70% 50%,rgba(0,240,255,0.02) 0%,transparent 60%);
}
.hero-grid {
  position:absolute;top:0;left:0;width:100%;height:100%;
  background-image:linear-gradient(rgba(255,255,255,0.015) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,0.015) 1px,transparent 1px);
  background-size:80px 80px;animation:gridPulse 8s ease-in-out infinite;
}
@keyframes gridPulse { 0%,100%{opacity:0.3}50%{opacity:0.6} }

.hero-content { text-align:center;z-index:3;position:relative; }
.hero-title-text {
  font-family:'Orbitron',sans-serif;
  font-size:clamp(4rem,14vw,13rem);
  font-weight:900;
  letter-spacing:0.12em;
  line-height:0.9;
  color:var(--white-pure);
  text-shadow:0 0 80px rgba(255,255,255,0.06);
  margin-bottom:20px;
  opacity:0;
  animation:heroTitleIn 2.5s var(--transition-cinematic) 0.3s forwards;
}

@keyframes heroTitleIn {
  0% { opacity:0; transform:translateY(40px); letter-spacing:0.4em; filter:blur(10px); }
  60% { filter:blur(0); }
  100% { opacity:1; transform:translateY(0); letter-spacing:0.12em; filter:blur(0); }
}









.hero-eyebrow {
  font-family:'Space Mono',monospace;font-size:0.6rem;letter-spacing:0.6em;
  text-transform:uppercase;color:var(--gray-text);margin-bottom:40px;
  opacity:0;animation:heroReveal 1.5s var(--transition-smooth) 0.2s forwards;
}

.hero-subtitle {
  font-family:'Rajdhani',sans-serif;font-size:1rem;font-weight:300;
  letter-spacing:0.4em;text-transform:uppercase;color:rgba(255,255,255,0.3);
  margin-top:20px;opacity:0;
  animation:heroReveal 1.5s var(--transition-smooth) 1.2s forwards;
}

.hero-divider {
  width:60px;height:1px;background:linear-gradient(90deg,transparent,var(--white),transparent);
  margin:40px auto;opacity:0;
  animation:heroReveal 1.5s var(--transition-smooth) 1.6s forwards;
}

.hero-tagline {
  font-family:'Space Mono',monospace;font-size:0.65rem;letter-spacing:0.2em;
  color:rgba(255,255,255,0.18);opacity:0;
  animation:heroReveal 1.5s var(--transition-smooth) 1.8s forwards;
}

@keyframes heroReveal {
  0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}
}

/* Social Links */
.social-links {
  position:fixed;right:48px;top:50%;transform:translateY(-50%);z-index:100;
  display:flex;flex-direction:column;gap:22px;
}
.social-link {
  width:38px;height:38px;border:1px solid rgba(255,255,255,0.07);border-radius:50%;
  display:flex;align-items:center;justify-content:center;text-decoration:none;
  color:rgba(255,255,255,0.25);transition:all 0.5s var(--transition-smooth);
  position:relative;overflow:hidden;
}
.social-link::before {
  content:'';position:absolute;top:50%;left:50%;width:0;height:0;
  background:var(--accent-red);border-radius:50%;transform:translate(-50%,-50%);
  transition:all 0.5s var(--transition-smooth);opacity:0.15;
}
.social-link:hover {
  border-color:var(--accent-red);color:var(--white-pure);transform:scale(1.1);
  box-shadow:0 0 20px rgba(255,26,26,0.2);
}
.social-link:hover::before { width:100%;height:100%; }
.social-link svg { width:15px;height:15px;position:relative;z-index:1;fill:currentColor; }

/* Scroll Indicator */
.scroll-indicator {
  position:absolute;bottom:40px;left:50%;transform:translateX(-50%);
  display:flex;flex-direction:column;align-items:center;gap:10px;
  opacity:0;animation:heroReveal 1.5s var(--transition-smooth) 2.2s forwards;
}
.scroll-indicator span {
  font-family:'Space Mono',monospace;font-size:0.5rem;letter-spacing:0.3em;
  text-transform:uppercase;color:rgba(255,255,255,0.15);
}
.scroll-line {
  width:1px;height:36px;position:relative;overflow:hidden;background:rgba(255,255,255,0.05);
}
.scroll-line::after {
  content:'';position:absolute;top:-100%;left:0;width:100%;height:100%;
  background:var(--white);animation:scrollDown 2s ease-in-out infinite;
}
@keyframes scrollDown { 0%{top:-100%}50%{top:100%}100%{top:100%} }

/* ═══ ABOUT (within landing) ═══ */
.about-section {
  padding:160px 48px;max-width:1200px;margin:0 auto;position:relative;
}
.section-label {
  font-family:'Space Mono',monospace;font-size:0.55rem;letter-spacing:0.5em;
  text-transform:uppercase;color:var(--accent-red);margin-bottom:36px;
  display:flex;align-items:center;gap:14px;
}
.store-label::before, .music-label::before { display:none; }
.section-label::before {
  content:'';width:28px;height:1px;background:var(--accent-red);
  box-shadow:0 0 8px rgba(255,26,26,0.5);
}
.about-heading {
  font-family:'Orbitron',sans-serif;font-size:clamp(1.8rem,4vw,3.2rem);font-weight:700;
  letter-spacing:0.05em;line-height:1.25;color:var(--white-pure);
  max-width:700px;margin-bottom:44px;
}
.about-text {
  font-family:'Rajdhani',sans-serif;font-size:1.05rem;font-weight:300;
  line-height:2;color:rgba(255,255,255,0.35);max-width:600px;letter-spacing:0.02em;
}
.about-text strong { color:var(--white);font-weight:500; }

.stats-row {
  display:flex;gap:80px;margin-top:80px;padding-top:60px;
  border-top:1px solid rgba(255,255,255,0.04);
}
.stat-item { text-align:left; }
.stat-number {
  font-family:'Orbitron',sans-serif;font-size:2.5rem;font-weight:800;
  color:var(--white-pure);line-height:1;
}
.stat-number .stat-accent {
  color:var(--accent-red);text-shadow:0 0 20px rgba(255,26,26,0.4);
}
.stat-label {
  font-family:'Space Mono',monospace;font-size:0.55rem;letter-spacing:0.3em;
  text-transform:uppercase;color:rgba(255,255,255,0.2);margin-top:12px;
}


/* Welcome to Smilemore CTA */
.welcome-smilemore {
  font-family:'Orbitron',sans-serif;font-size:clamp(1.2rem,3vw,2.2rem);font-weight:900;
  letter-spacing:0.2em;text-transform:uppercase;color:var(--white-pure);
  margin-top:80px;padding-top:60px;
  border-top:1px solid rgba(255,255,255,0.04);
  text-shadow:0 0 40px rgba(255,255,255,0.08);
  text-align:center;
}

/* Social Links Row */
.social-row {
  display:flex;align-items:center;justify-content:center;gap:36px;
  margin-top:60px;flex-wrap:wrap;
}
.social-row-link {
  display:flex;align-items:center;gap:10px;text-decoration:none;
  padding:14px 28px;border:1px solid rgba(255,255,255,0.06);
  transition:all 0.5s var(--transition-smooth);position:relative;overflow:hidden;
}
.social-row-link::before {
  content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,0.04),transparent);
  transition:left 0.6s ease;
}
.social-row-link:hover::before { left:100%; }
.social-row-link:hover {
  border-color:rgba(255,255,255,0.2);
  box-shadow:0 0 30px rgba(255,255,255,0.05);
  transform:translateY(-2px);
}
.social-row-link svg {
  width:18px;height:18px;fill:rgba(255,255,255,0.35);
  transition:fill 0.4s ease;
}
.social-row-link:hover svg { fill:var(--white-pure); }
.social-row-link span {
  font-family:'Orbitron',sans-serif;font-size:0.6rem;font-weight:500;
  letter-spacing:0.25em;text-transform:uppercase;color:rgba(255,255,255,0.35);
  transition:color 0.4s ease;
}
.social-row-link:hover span { color:var(--white-pure); }


/* ═══ TOUR DATES ═══ */
.tour-section {
  margin-top:120px;padding-top:80px;
  border-top:1px solid rgba(255,255,255,0.03);
}
.tour-header { text-align:center;margin-bottom:50px; }
.tour-title {
  font-family:'Orbitron',sans-serif;font-size:clamp(1.5rem,3.5vw,2.5rem);font-weight:900;
  letter-spacing:0.2em;color:var(--white-pure);margin-top:8px;
}

.tour-empty {
  text-align:center;padding:60px 20px;
  border:1px solid rgba(255,255,255,0.03);
  background:rgba(255,255,255,0.01);
}
.tour-empty-icon {
  margin-bottom:24px;
}
.tour-empty-icon svg {
  width:40px;height:40px;color:rgba(255,255,255,0.08);
}
.tour-empty-text {
  font-family:'Orbitron',sans-serif;font-size:0.8rem;font-weight:700;
  letter-spacing:0.3em;color:rgba(255,255,255,0.15);margin-bottom:12px;
}
.tour-empty-sub {
  font-family:'Rajdhani',sans-serif;font-size:0.9rem;font-weight:300;
  color:rgba(255,255,255,0.1);letter-spacing:0.1em;
}
.tour-notify {
  display:inline-flex;align-items:center;gap:10px;
  margin-top:30px;padding:12px 28px;
  border:1px solid rgba(255,26,26,0.1);
}
.tour-notify-dot {
  width:6px;height:6px;border-radius:50%;background:var(--accent-red);
  animation:tourPulse 2s ease-in-out infinite;
}
@keyframes tourPulse {
  0%,100% { opacity:0.3;box-shadow:0 0 4px rgba(255,26,26,0.2); }
  50% { opacity:1;box-shadow:0 0 12px rgba(255,26,26,0.5); }
}
.tour-notify span {
  font-family:'Space Mono',monospace;font-size:0.5rem;
  letter-spacing:0.25em;text-transform:uppercase;color:rgba(255,255,255,0.2);
}

/* ═══ STORY / LORE ═══ */
.story-section { position:relative; }

.story-welcome {
  min-height:100vh;display:flex;flex-direction:column;align-items:center;
  justify-content:center;text-align:center;position:relative;
}
.story-welcome-text {
  font-family:'Orbitron',sans-serif;font-size:clamp(1rem,2.5vw,1.8rem);font-weight:400;
  letter-spacing:0.5em;color:var(--white-pure);opacity:0;
  animation:storyReveal 3s var(--transition-smooth) 0.5s forwards;
}
.story-welcome-title {
  font-family:'Orbitron',sans-serif;font-size:clamp(3rem,8vw,7rem);font-weight:900;
  letter-spacing:0.1em;color:var(--white-pure);margin-top:10px;
  text-shadow:0 0 60px rgba(255,214,0,0.15);opacity:0;
  animation:storyReveal 3s var(--transition-smooth) 1s forwards;
}
.story-divider-glow {
  width:200px;height:1px;margin:50px auto;
  background:linear-gradient(90deg,transparent,var(--accent-yellow),transparent);
  box-shadow:0 0 20px rgba(255,214,0,0.3);opacity:0;
  animation:storyReveal 2s var(--transition-smooth) 1.8s forwards;
}
@keyframes storyReveal {
  0%{opacity:0;transform:translateY(30px);filter:blur(8px)}
  100%{opacity:1;transform:translateY(0);filter:blur(0)}
}

.lore-content { padding:0 48px 160px;max-width:1000px;margin:0 auto; }
.lore-block {
  margin-bottom:120px;position:relative;opacity:0;transform:translateY(40px);
  transition:all 1s var(--transition-smooth);
}
.lore-block.visible { opacity:1;transform:translateY(0); }
.lore-chapter {
  font-family:'Space Mono',monospace;font-size:0.55rem;letter-spacing:0.5em;
  text-transform:uppercase;color:var(--accent-yellow);margin-bottom:22px;
  text-shadow:0 0 10px rgba(255,214,0,0.3);
}
.lore-heading {
  font-family:'Orbitron',sans-serif;font-size:clamp(1.4rem,2.8vw,2.3rem);font-weight:700;
  letter-spacing:0.05em;color:var(--white-pure);margin-bottom:28px;line-height:1.3;
}
.lore-text {
  font-family:'Rajdhani',sans-serif;font-size:1rem;font-weight:300;line-height:2.2;
  color:rgba(255,255,255,0.35);letter-spacing:0.02em;
}

.lore-gallery {
  display:grid;grid-template-columns:repeat(2,1fr);gap:18px;margin-top:50px;
}
.lore-image-slot {
  aspect-ratio:16/10;border:1px solid rgba(255,255,255,0.05);background:var(--gray-dark);
  position:relative;overflow:hidden;cursor:pointer;transition:all 0.6s var(--transition-smooth);
}
.lore-image-slot:hover {
  border-color:rgba(255,255,255,0.12);box-shadow:0 0 40px rgba(0,0,0,0.5);
}
.lore-image-slot::after {
  content:'';position:absolute;top:0;left:0;width:100%;height:100%;
  background:linear-gradient(180deg,transparent 60%,rgba(0,0,0,0.8));pointer-events:none;
}
.lore-image-placeholder {
  width:100%;height:100%;display:flex;align-items:center;justify-content:center;
  flex-direction:column;gap:10px;
}
.lore-image-placeholder svg { width:28px;height:28px;color:rgba(255,255,255,0.06); }
.lore-image-placeholder span {
  font-family:'Space Mono',monospace;font-size:0.5rem;letter-spacing:0.3em;
  text-transform:uppercase;color:rgba(255,255,255,0.08);
}


.lore-welcome-final {
  font-family:'Orbitron',sans-serif;font-size:clamp(1.4rem,3vw,2.5rem);font-weight:700;
  letter-spacing:0.25em;color:var(--white-pure);
  text-shadow:0 0 40px rgba(255,214,0,0.12);
  padding:40px 0;
}
.lore-text strong { color:var(--white);font-weight:500; }


/* ═══ MUSIC TAB ═══ */
.music-section { padding:160px 48px 80px;max-width:900px;margin:0 auto; }
.music-header { text-align:center;margin-bottom:80px; }
.music-title {
  font-family:'Orbitron',sans-serif;font-size:clamp(2rem,5vw,4rem);font-weight:900;
  letter-spacing:0.15em;color:var(--white-pure);margin-top:8px;
}
.music-subtitle {
  font-family:'Rajdhani',sans-serif;font-size:1rem;font-weight:300;
  letter-spacing:0.3em;text-transform:uppercase;color:rgba(255,255,255,0.2);margin-top:18px;
}

.track-list { display:flex;flex-direction:column;gap:24px; }

.track-card {
  background:var(--gray-dark);border:1px solid rgba(255,255,255,0.04);
  padding:32px 36px;position:relative;overflow:hidden;cursor:pointer;
  transition:all 0.6s var(--transition-smooth);
  display:flex;align-items:center;gap:28px;
}
.track-card:hover {
  border-color:rgba(0,162,255,0.15);
  box-shadow:0 0 40px rgba(0,162,255,0.05);
}
.track-card.playing {
  border-color:rgba(0,162,255,0.25);
  box-shadow:0 0 50px rgba(0,162,255,0.08);
}
.track-card::before {
  content:'';position:absolute;top:0;left:0;width:3px;height:100%;
  background:var(--accent-blue);opacity:0.4;
  box-shadow:0 0 12px rgba(0,162,255,0.2);
  transition:opacity 0.4s ease;
}
.track-card.playing::before { opacity:1; }

.track-number {
  font-family:'Orbitron',sans-serif;font-size:3.5rem;font-weight:900;
  color:rgba(255,255,255,0.025);position:absolute;top:16px;right:28px;
  letter-spacing:0.05em;pointer-events:none;
}

/* Play Button */
.track-play-btn {
  width:64px;height:64px;min-width:64px;
  border-radius:50%;position:relative;
  display:flex;align-items:center;justify-content:center;
  transition:all 0.4s var(--transition-smooth);
}
.track-play-btn svg {
  width:20px;height:20px;color:var(--white-pure);position:relative;z-index:2;
  transition:all 0.3s ease;
}
.track-play-btn .play-icon { margin-left:3px; }

.play-ring {
  position:absolute;top:0;left:0;width:100%;height:100%;
  border-radius:50%;border:1.5px solid rgba(255,255,255,0.12);
  transition:all 0.5s var(--transition-smooth);
}
.play-ring-glow {
  position:absolute;top:-2px;left:-2px;width:calc(100% + 4px);height:calc(100% + 4px);
  border-radius:50%;opacity:0;
  transition:all 0.5s var(--transition-smooth);
}

.track-card:hover .play-ring {
  border-color:rgba(0,162,255,0.4);
}
.track-card:hover .play-ring-glow {
  opacity:1;
  box-shadow:0 0 20px rgba(0,162,255,0.15);
}
.track-card.playing .play-ring {
  border-color:var(--accent-blue);
  box-shadow:inset 0 0 15px rgba(0,162,255,0.1);
}
.track-card.playing .play-ring-glow {
  opacity:1;
  box-shadow:0 0 30px rgba(0,162,255,0.2);
  animation:playPulse 2s ease-in-out infinite;
}

@keyframes playPulse {
  0%,100% { box-shadow:0 0 20px rgba(0,162,255,0.15); }
  50% { box-shadow:0 0 35px rgba(0,162,255,0.3); }
}

/* Track Details */
.track-details { flex:1;min-width:0; }
.track-name {
  font-family:'Orbitron',sans-serif;font-size:1rem;font-weight:700;
  letter-spacing:0.1em;color:var(--white-pure);margin-bottom:4px;
}
.track-meta {
  font-family:'Space Mono',monospace;font-size:0.5rem;
  letter-spacing:0.3em;text-transform:uppercase;color:rgba(255,255,255,0.2);
}

/* Progress Bar */
.track-progress-bar {
  width:100%;height:2px;background:rgba(255,255,255,0.06);
  margin-top:16px;position:relative;overflow:hidden;
  border-radius:1px;
}
.track-progress-fill {
  height:100%;width:0%;background:var(--accent-blue);
  box-shadow:0 0 8px rgba(0,162,255,0.4);
  transition:width 0.3s linear;
  border-radius:1px;
}

.track-time {
  font-family:'Space Mono',monospace;font-size:0.5rem;
  letter-spacing:0.15em;color:rgba(255,255,255,0.15);
  margin-top:8px;
}

/* Waveform visualization — full card background */
.track-waveform {
  position:absolute;bottom:0;left:0;width:100%;height:100%;
  display:flex;align-items:flex-end;gap:1px;
  padding:0;opacity:0;overflow:hidden;z-index:0;
  transition:opacity 0.8s ease;pointer-events:none;
}
.track-card.playing .track-waveform { opacity:0.06; }

.wv-bar {
  flex:1;min-width:0;
  background:linear-gradient(to top, var(--accent-blue), rgba(0,162,255,0.2));
  min-height:1px;
}

@media(max-width:768px) {
  .track-card { padding:24px;flex-direction:column;align-items:flex-start;gap:20px; }
  .track-play-btn { width:56px;height:56px;min-width:56px; }
}

.music-cta {
  text-align:center;margin-top:70px;
}
.music-cta-link {
  display:inline-flex;align-items:center;gap:14px;
  padding:16px 44px;border:1px solid rgba(0,162,255,0.15);
  text-decoration:none;transition:all 0.6s var(--transition-smooth);
  position:relative;overflow:hidden;
}
.music-cta-link::before {
  content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;
  background:linear-gradient(90deg,transparent,rgba(0,162,255,0.06),transparent);
  transition:left 0.6s ease;
}
.music-cta-link:hover::before { left:100%; }
.music-cta-link:hover {
  border-color:var(--accent-blue);box-shadow:0 0 30px rgba(0,162,255,0.1);
  transform:translateY(-2px);
}
.music-cta-link span {
  font-family:'Orbitron',sans-serif;font-size:0.6rem;letter-spacing:0.3em;
  text-transform:uppercase;color:var(--white);
}
.music-cta-link svg { width:16px;height:16px;color:var(--accent-blue);transition:transform 0.4s ease; }
.music-cta-link:hover svg { transform:translateX(6px); }

@media(max-width:768px) {
  .music-section { padding:120px 24px 60px; }
  .track-card { padding:24px; }
}

/* ═══ GALLERY ═══ */
.gallery-portal {
  margin-top:120px;padding-top:80px;text-align:center;
  border-top:1px solid rgba(255,255,255,0.03);
}
.gallery-border-top {
  width:40px;height:1px;background:var(--accent-yellow);margin:0 auto 40px;
  box-shadow:0 0 12px rgba(255,214,0,0.3);
}
.gallery-icon {
  margin-bottom:20px;
}
.gallery-icon svg {
  width:32px;height:32px;color:rgba(255,255,255,0.1);
}
.gallery-label {
  font-family:'Space Mono',monospace;font-size:0.5rem;
  letter-spacing:0.4em;text-transform:uppercase;color:var(--accent-yellow);
  margin-bottom:12px;
}
.gallery-title {
  font-family:'Orbitron',sans-serif;font-size:clamp(1.5rem,3.5vw,2.8rem);font-weight:900;
  letter-spacing:0.2em;color:var(--white-pure);margin-bottom:16px;
}
.gallery-desc {
  font-family:'Rajdhani',sans-serif;font-size:0.95rem;font-weight:300;
  color:rgba(255,255,255,0.2);letter-spacing:0.08em;max-width:500px;margin:0 auto 50px;
  line-height:1.7;
}

.gallery-grid {
  display:grid;grid-template-columns:repeat(3,1fr);gap:12px;
  max-width:700px;margin:0 auto;
}
.gallery-slot {
  aspect-ratio:1;
}
.gallery-placeholder {
  width:100%;height:100%;display:flex;align-items:center;justify-content:center;
  border:1px solid rgba(255,255,255,0.04);background:rgba(255,255,255,0.01);
  transition:all 0.6s ease;position:relative;overflow:hidden;
}
.gallery-placeholder:hover {
  border-color:rgba(255,214,0,0.12);
  box-shadow:0 0 30px rgba(255,214,0,0.03);
}
.gallery-placeholder span {
  font-family:'Orbitron',sans-serif;font-size:0.8rem;font-weight:700;
  letter-spacing:0.15em;color:rgba(255,255,255,0.04);
}

.gallery-coming {
  display:inline-flex;align-items:center;gap:10px;
  margin-top:40px;padding:12px 28px;
  border:1px solid rgba(255,214,0,0.08);
}
.gallery-dot {
  width:6px;height:6px;border-radius:50%;background:var(--accent-yellow);
  animation:galleryPulse 2s ease-in-out infinite;
}
@keyframes galleryPulse {
  0%,100% { opacity:0.3;box-shadow:0 0 4px rgba(255,214,0,0.2); }
  50% { opacity:1;box-shadow:0 0 12px rgba(255,214,0,0.5); }
}
.gallery-coming span {
  font-family:'Space Mono',monospace;font-size:0.5rem;
  letter-spacing:0.25em;text-transform:uppercase;color:rgba(255,255,255,0.2);
}

@media(max-width:768px) {
  .gallery-grid { grid-template-columns:repeat(2,1fr);gap:8px; }
}

/* ═══ STORE ═══ */
.store-section { padding:160px 48px;max-width:1400px;margin:0 auto; }
.store-header { text-align:center;margin-bottom:90px; }
.store-title {
  font-family:'Orbitron',sans-serif;font-size:clamp(2rem,5vw,4rem);font-weight:900;
  letter-spacing:0.15em;color:var(--white-pure);
}
.store-subtitle {
  font-family:'Space Mono',monospace;font-size:0.6rem;letter-spacing:0.4em;
  text-transform:uppercase;color:rgba(255,255,255,0.18);margin-top:18px;
}

.product-grid { display:grid;grid-template-columns:repeat(3,1fr);gap:28px; }
.product-card {
  background:var(--gray-dark);border:1px solid rgba(255,255,255,0.04);
  position:relative;overflow:hidden;cursor:pointer;
  transition:all 0.6s var(--transition-smooth);
}
.product-card:hover {
  border-color:rgba(255,255,255,0.1);transform:translateY(-4px);
  box-shadow:0 20px 60px rgba(0,0,0,0.4);
}
.product-card::before {
  content:'';position:absolute;top:0;left:0;width:100%;height:2px;
  background:linear-gradient(90deg,var(--accent-green),var(--accent-cyan));
  opacity:0;transition:opacity 0.6s ease;
}
.product-card:hover::before { opacity:1; }

.product-image {
  aspect-ratio:1;background:var(--gray-mid);position:relative;overflow:hidden;
  display:flex;align-items:center;justify-content:center;
}
.product-image-inner {
  font-family:'Orbitron',sans-serif;font-size:2.8rem;font-weight:900;
  color:rgba(255,255,255,0.03);letter-spacing:0.1em;
}
.product-info { padding:24px; }
.product-tag {
  font-family:'Space Mono',monospace;font-size:0.5rem;letter-spacing:0.3em;
  text-transform:uppercase;color:var(--accent-green);margin-bottom:10px;
}
.product-name {
  font-family:'Orbitron',sans-serif;font-size:0.8rem;font-weight:600;
  letter-spacing:0.1em;color:var(--white-pure);margin-bottom:8px;
}
.product-desc {
  font-family:'Rajdhani',sans-serif;font-size:0.85rem;color:rgba(255,255,255,0.25);
  margin-bottom:18px;line-height:1.6;
}
.product-price { font-family:'Orbitron',sans-serif;font-size:1rem;font-weight:700;color:var(--white); }
.product-price .currency { color:var(--accent-green);font-size:0.85rem;font-family:'Orbitron',sans-serif;margin-right:2px; }
.product-cta {
  display:flex;align-items:center;justify-content:space-between;
  margin-top:18px;padding-top:18px;border-top:1px solid rgba(255,255,255,0.04);
}
.product-btn {
  font-family:'Orbitron',sans-serif;font-size:0.5rem;letter-spacing:0.3em;
  text-transform:uppercase;color:var(--white);background:transparent;
  border:1px solid rgba(255,255,255,0.12);padding:9px 22px;cursor:pointer;
  transition:all 0.4s ease;
}
.product-btn:hover { background:var(--white);color:var(--black);box-shadow:0 0 20px rgba(255,255,255,0.15); }
.product-status {
  font-family:'Space Mono',monospace;font-size:0.45rem;letter-spacing:0.2em;
  text-transform:uppercase;color:rgba(255,255,255,0.12);
}

/* ═══ LUX OR NOX ═══ */
.luxnox-section {
  min-height:100vh;display:flex;align-items:center;justify-content:center;
  position:relative;overflow:hidden;
}
.luxnox-bg {
  position:absolute;top:0;left:0;width:100%;height:100%;
  background:radial-gradient(circle at 30% 40%,rgba(0,162,255,0.05) 0%,transparent 50%),
              radial-gradient(circle at 70% 60%,rgba(255,26,26,0.04) 0%,transparent 50%);
}
.luxnox-content { text-align:center;z-index:3;position:relative; }
.luxnox-question {
  font-family:'Space Mono',monospace;font-size:0.6rem;letter-spacing:0.6em;
  text-transform:uppercase;color:rgba(255,255,255,0.2);margin-bottom:50px;
}
.luxnox-title {
  font-family:'Orbitron',sans-serif;font-size:clamp(3rem,9vw,9rem);font-weight:900;
  letter-spacing:0.08em;line-height:1;position:relative;
}
.luxnox-lux {
  color:var(--accent-blue);text-shadow:0 0 80px rgba(0,162,255,0.25),0 0 160px rgba(0,162,255,0.1);
  display:block;
}
.luxnox-or {
  font-family:'Rajdhani',sans-serif;font-size:clamp(0.8rem,1.5vw,1.2rem);font-weight:300;
  letter-spacing:1em;color:rgba(255,255,255,0.12);display:block;margin:20px 0;
}
.luxnox-nox {
  color:var(--accent-red);text-shadow:0 0 80px rgba(255,26,26,0.3),0 0 160px rgba(255,26,26,0.12);
  display:block;
}

.luxnox-enter {
  display:inline-flex;align-items:center;gap:14px;margin-top:60px;
  padding:16px 44px;border:1px solid rgba(255,255,255,0.08);
  background:transparent;text-decoration:none;
  transition:all 0.6s var(--transition-smooth);cursor:pointer;
  position:relative;overflow:hidden;
}
.luxnox-enter::before {
  content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,26,26,0.08),transparent);
  transition:left 0.6s ease;
}
.luxnox-enter:hover::before { left:100%; }
.luxnox-enter:hover {
  border-color:var(--accent-red);box-shadow:0 0 40px rgba(255,26,26,0.12);transform:scale(1.02);
}
.luxnox-enter span {
  font-family:'Orbitron',sans-serif;font-size:0.6rem;letter-spacing:0.4em;
  text-transform:uppercase;color:var(--white);
}
.luxnox-enter svg { width:16px;height:16px;color:var(--accent-red);transition:transform 0.4s ease; }
.luxnox-enter:hover svg { transform:translateX(6px); }
.luxnox-warning {
  font-family:'Space Mono',monospace;font-size:0.45rem;letter-spacing:0.3em;
  text-transform:uppercase;color:rgba(255,255,255,0.06);margin-top:50px;
}

/* ═══ FOOTER ═══ */
.footer {
  border-top:1px solid rgba(255,255,255,0.04);padding:50px 48px;
  display:flex;align-items:center;justify-content:space-between;position:relative;z-index:2;
}
.footer-logo {
  font-family:'Orbitron',sans-serif;font-size:0.65rem;font-weight:700;
  letter-spacing:0.4em;color:rgba(255,255,255,0.15);
}
.footer-copy {
  font-family:'Space Mono',monospace;font-size:0.5rem;letter-spacing:0.2em;
  color:rgba(255,255,255,0.08);
}

/* ═══ CURSOR ═══ */
.cursor-dot {
  position:fixed;width:6px;height:6px;background:var(--white-pure);border-radius:50%;
  pointer-events:none;z-index:99999;mix-blend-mode:difference;
  transition:transform 0.15s ease,opacity 0.3s ease;
}
.cursor-ring {
  position:fixed;width:34px;height:34px;border:1px solid rgba(255,255,255,0.2);
  border-radius:50%;pointer-events:none;z-index:99998;
  transition:transform 0.4s var(--transition-smooth),width 0.3s ease,height 0.3s ease,border-color 0.3s ease;
  transform:translate(-50%,-50%);
}
.cursor-ring.hovering { width:52px;height:52px;border-color:var(--accent-red);opacity:0.5; }

/* ═══ PAGE TRANSITION ═══ */
.page-transition {
  position:fixed;top:0;left:0;width:100%;height:100%;z-index:99990;
  pointer-events:none;display:flex;
}
.transition-slice {
  flex:1;background:var(--black);transform:scaleY(0);transform-origin:top;
}
.page-transition.active .transition-slice { animation:transSlice 0.5s var(--transition-cinematic) forwards; }
.page-transition.active .transition-slice:nth-child(2){animation-delay:0.02s}
.page-transition.active .transition-slice:nth-child(3){animation-delay:0.04s}
.page-transition.active .transition-slice:nth-child(4){animation-delay:0.06s}
.page-transition.active .transition-slice:nth-child(5){animation-delay:0.08s}
@keyframes transSlice {
  0%{transform:scaleY(0);transform-origin:top}45%{transform:scaleY(1);transform-origin:top}
  55%{transform:scaleY(1);transform-origin:bottom}100%{transform:scaleY(0);transform-origin:bottom}
}

/* Ink Canvas */
#inkCanvas {
  position:fixed;top:0;left:0;width:100%;height:100%;z-index:9996;
  pointer-events:none;opacity:0;transition:opacity 0.5s ease;
}
#inkCanvas.active { opacity:1; }

/* Ambient Orbs */
.ambient-orb {
  position:fixed;border-radius:50%;filter:blur(80px);pointer-events:none;z-index:0;
  animation:orbFloat 20s ease-in-out infinite;
}
@keyframes orbFloat {
  0%,100%{transform:translate(0,0) scale(1)}25%{transform:translate(30px,-20px) scale(1.1)}
  50%{transform:translate(-20px,30px) scale(0.9)}75%{transform:translate(20px,20px) scale(1.05)}
}

/* Frequency visualizer */


/* ═══ RESPONSIVE ═══ */
@media(max-width:1024px){
  .product-grid{grid-template-columns:repeat(2,1fr)}
  .social-links{display:none}.stats-row{gap:40px}
}
@media(max-width:768px){
  .nav{padding:18px 20px}.nav.scrolled{padding:12px 20px}
  .nav-links{gap:16px}.nav-link{font-size:0.5rem;letter-spacing:0.12em}
  .about-section,.store-section{padding:100px 24px}
  .lore-content{padding:0 24px 100px}
  .product-grid{grid-template-columns:1fr}
  .lore-gallery{grid-template-columns:1fr}
  .stats-row{flex-direction:column;gap:30px}
  .footer{padding:30px 24px;flex-direction:column;gap:16px;text-align:center}
  .cursor-dot,.cursor-ring{display:none}
  
}
</style>
</head>
<body>

<div class="film-grain"></div>
<div class="vignette"></div>
<div class="scanlines"></div>
<div class="particles-container" id="particles"></div>

<div class="ambient-orb" style="width:300px;height:300px;background:rgba(255,26,26,0.012);top:20%;left:10%;animation-delay:-5s"></div>
<div class="ambient-orb" style="width:400px;height:400px;background:rgba(0,240,255,0.008);bottom:10%;right:5%;animation-delay:-12s"></div>

<div class="cursor-dot" id="cursorDot"></div>
<div class="cursor-ring" id="cursorRing"></div>
<canvas id="inkCanvas"></canvas>

<div class="page-transition" id="pageTransition">
  <div class="transition-slice"></div><div class="transition-slice"></div>
  <div class="transition-slice"></div><div class="transition-slice"></div>
  <div class="transition-slice"></div>
</div>



<!-- Navigation (centered, no logo text) -->
<nav class="nav" id="nav">
  <ul class="nav-links">
    <li><a class="nav-link active" data-section="landing" onclick="navigateTo('landing')"><span class="nav-dot"></span>Origin</a></li>
    <li><a class="nav-link" data-section="music" onclick="navigateTo('music')"><span class="nav-dot"></span>Music</a></li>
    <li><a class="nav-link" data-section="store" onclick="navigateTo('store')"><span class="nav-dot"></span>Store</a></li>
    <li><a class="nav-link" data-section="story" onclick="navigateTo('story')"><span class="nav-dot"></span>Story</a></li>
    <li><a class="nav-link" data-section="luxnox" onclick="navigateTo('luxnox')"><span class="nav-dot luxnox-dot"></span>Lux or Nox</a></li>
  </ul>
</nav>

<!-- Audio Toggle -->
<button class="audio-toggle muted" id="audioToggle" onclick="toggleAudio()">
  <span class="audio-label">Enable Sound</span>
  <div class="audio-bar" style="height:8px"></div>
  <div class="audio-bar" style="height:14px"></div>
  <div class="audio-bar" style="height:6px"></div>
  <div class="audio-bar" style="height:12px"></div>
</button>

<!-- Social Links (sidebar) -->
<div class="social-links" id="socialLinks" style="display:none">
  <a href="https://spotify.com" target="_blank" class="social-link" title="Spotify">
    <svg viewBox="0 0 24 24"><path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/></svg>
  </a>
  <a href="https://instagram.com" target="_blank" class="social-link" title="Instagram">
    <svg viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/></svg>
  </a>
  <a href="https://soundcloud.com" target="_blank" class="social-link" title="SoundCloud">
    <svg viewBox="0 0 24 24"><path d="M1.175 12.225c-.051 0-.094.046-.101.1l-.233 2.154.233 2.105c.007.058.05.098.101.098.05 0 .09-.04.099-.098l.255-2.105-.27-2.154c-.009-.057-.05-.1-.1-.1m-.899.828c-.06 0-.091.037-.104.094L0 14.479l.172 1.282c.013.06.045.094.104.094.057 0 .089-.035.104-.094l.193-1.282-.193-1.332c-.015-.057-.047-.094-.104-.094m1.806-.474c-.066 0-.12.046-.127.112l-.209 2.088.209 2.058c.007.065.061.11.127.11.065 0 .12-.045.126-.11l.239-2.058-.239-2.088c-.006-.066-.061-.112-.126-.112m.89-.057c-.074 0-.131.053-.137.12L2.6 14.779l.235 2.042c.006.07.063.12.137.12.074 0 .131-.05.138-.12l.266-2.042-.266-2.237c-.007-.067-.064-.12-.138-.12m.902-.143c-.08 0-.144.06-.15.13l-.2 2.38.2 2.018c.006.075.07.13.15.13.08 0 .143-.055.15-.13l.228-2.018-.228-2.38c-.007-.07-.07-.13-.15-.13m.907-.19c-.088 0-.158.065-.164.142l-.186 2.57.186 1.985c.006.082.076.14.164.14.087 0 .158-.058.164-.14l.21-1.985-.21-2.57c-.006-.077-.077-.142-.164-.142m.936-.137c-.095 0-.172.07-.177.152l-.17 2.707.17 1.954c.005.088.082.152.177.152s.172-.064.178-.152l.194-1.954-.194-2.707c-.006-.082-.083-.152-.178-.152m.922-.164c-.104 0-.186.08-.191.166l-.154 2.871.154 1.932c.005.092.087.16.19.16.104 0 .186-.068.192-.16l.176-1.932-.176-2.871c-.006-.086-.088-.166-.191-.166m.94-.108c-.11 0-.2.085-.204.176l-.14 2.98.14 1.907c.005.097.094.17.204.17.11 0 .2-.073.206-.17l.159-1.907-.16-2.98c-.005-.091-.095-.176-.205-.176m.94-.1c-.12 0-.214.09-.218.186l-.127 3.08.127 1.886c.004.103.098.18.218.18.12 0 .213-.077.218-.18l.145-1.886-.145-3.08c-.005-.096-.098-.186-.218-.186m.955-.028c-.126 0-.226.098-.23.198l-.114 3.108.114 1.86c.004.107.104.19.23.19.126 0 .226-.083.23-.19l.13-1.86-.13-3.108c-.004-.1-.104-.198-.23-.198m8.376 1.017c-.393 0-.77.062-1.124.178-.232-2.617-2.44-4.672-5.136-4.672-.702 0-1.38.137-1.998.38-.231.09-.293.182-.295.36v9.392c.002.186.152.34.336.357h8.217c1.543 0 2.794-1.262 2.794-2.82 0-1.558-1.251-2.82-2.794-2.82"/></svg>
  </a>
  <a href="https://x.com" target="_blank" class="social-link" title="X">
    <svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
  </a>
</div>

<!-- ═══ LANDING ═══ -->
<section class="section active" id="section-landing">
  <div class="hero">
    <div class="hero-bg"></div>
    <div class="hero-grid"></div>
    <div class="hero-content">
      <p class="hero-eyebrow">BLACK AND WHITE — COLOR UNSTABLE</p>
      <h1 class="hero-title-text">KROMA</h1>
      <p class="hero-subtitle">VISION &nbsp;·&nbsp; SOUND &nbsp;·&nbsp; WORLD</p>
      <div class="hero-divider"></div>
      <p class="hero-tagline">Where sound becomes world.</p>
    </div>
    <div class="scroll-indicator">
      <span>Descend</span>
      <div class="scroll-line"></div>
    </div>
  </div>
  <div class="about-section">
    <div class="section-label">Transmission 001</div>
    <h2 class="about-heading">Who is KROMA?</h2>
    <p class="about-text">
      <strong>Kaden Coffey</strong>, known as <strong>Kroma</strong> — from the Greek for "color" — is a visionary midtempo music producer and storyteller from Knoxville, Tennessee. His sound dances between two signatures: <strong>melodic and heavy bass</strong>, a push-pull of light and shadow. Each track is more than music — it's a chapter from his immersive universe, <strong>Smilemore</strong>.
    </p>
    <p class="about-text" style="margin-top:28px;">
      In this monochrome city ruled by the enigmatic tyrant <strong>Mayor Happy</strong>, citizens wear nano-masks that regulate emotions and tether sanity. These masks display <strong style="color:var(--accent-blue)">Lux</strong> (light) or <strong style="color:var(--accent-red)">Nox</strong> (darkness), revealing a blurred moral spectrum. Beneath the city's ink-stained streets lie secrets meant only for the <strong>Flickers</strong> — those who've reawakened to feeling and can glimpse the forbidden flash of selective color.
    </p>
    <p class="about-text" style="margin-top:28px;">
      Kroma's music is their call to remember, to rebel, and to paint the world again.
    </p>
    <div class="welcome-smilemore">WELCOME TO SMILEMORE</div>

    <!-- Social Links Row -->
    <div class="social-row">
      <a href="https://spotify.com" target="_blank" class="social-row-link">
        <svg viewBox="0 0 24 24"><path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/></svg>
        <span>Spotify</span>
      </a>
      <a href="https://instagram.com" target="_blank" class="social-row-link">
        <svg viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/></svg>
        <span>Instagram</span>
      </a>
      <a href="https://soundcloud.com" target="_blank" class="social-row-link">
        <svg viewBox="0 0 24 24"><path d="M1.175 12.225c-.051 0-.094.046-.101.1l-.233 2.154.233 2.105c.007.058.05.098.101.098.05 0 .09-.04.099-.098l.255-2.105-.27-2.154c-.009-.057-.05-.1-.1-.1m-.899.828c-.06 0-.091.037-.104.094L0 14.479l.172 1.282c.013.06.045.094.104.094.057 0 .089-.035.104-.094l.193-1.282-.193-1.332c-.015-.057-.047-.094-.104-.094m1.806-.474c-.066 0-.12.046-.127.112l-.209 2.088.209 2.058c.007.065.061.11.127.11.065 0 .12-.045.126-.11l.239-2.058-.239-2.088c-.006-.066-.061-.112-.126-.112m.89-.057c-.074 0-.131.053-.137.12L2.6 14.779l.235 2.042c.006.07.063.12.137.12.074 0 .131-.05.138-.12l.266-2.042-.266-2.237c-.007-.067-.064-.12-.138-.12m.902-.143c-.08 0-.144.06-.15.13l-.2 2.38.2 2.018c.006.075.07.13.15.13.08 0 .143-.055.15-.13l.228-2.018-.228-2.38c-.007-.07-.07-.13-.15-.13m.907-.19c-.088 0-.158.065-.164.142l-.186 2.57.186 1.985c.006.082.076.14.164.14.087 0 .158-.058.164-.14l.21-1.985-.21-2.57c-.006-.077-.077-.142-.164-.142m.936-.137c-.095 0-.172.07-.177.152l-.17 2.707.17 1.954c.005.088.082.152.177.152s.172-.064.178-.152l.194-1.954-.194-2.707c-.006-.082-.083-.152-.178-.152m.922-.164c-.104 0-.186.08-.191.166l-.154 2.871.154 1.932c.005.092.087.16.19.16.104 0 .186-.068.192-.16l.176-1.932-.176-2.871c-.006-.086-.088-.166-.191-.166m.94-.108c-.11 0-.2.085-.204.176l-.14 2.98.14 1.907c.005.097.094.17.204.17.11 0 .2-.073.206-.17l.159-1.907-.16-2.98c-.005-.091-.095-.176-.205-.176m.94-.1c-.12 0-.214.09-.218.186l-.127 3.08.127 1.886c.004.103.098.18.218.18.12 0 .213-.077.218-.18l.145-1.886-.145-3.08c-.005-.096-.098-.186-.218-.186m.955-.028c-.126 0-.226.098-.23.198l-.114 3.108.114 1.86c.004.107.104.19.23.19.126 0 .226-.083.23-.19l.13-1.86-.13-3.108c-.004-.1-.104-.198-.23-.198m8.376 1.017c-.393 0-.77.062-1.124.178-.232-2.617-2.44-4.672-5.136-4.672-.702 0-1.38.137-1.998.38-.231.09-.293.182-.295.36v9.392c.002.186.152.34.336.357h8.217c1.543 0 2.794-1.262 2.794-2.82 0-1.558-1.251-2.82-2.794-2.82"/></svg>
        <span>SoundCloud</span>
      </a>
      <a href="https://x.com" target="_blank" class="social-row-link">
        <svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
        <span>X</span>
      </a>
    </div>
    <!-- Tour Dates -->
    <div class="tour-section">
      <div class="tour-header">
        <div class="section-label" style="justify-content:center"><span style="color:var(--accent-red)">—</span>&nbsp;&nbsp;Live Transmissions&nbsp;&nbsp;<span style="color:var(--accent-red)">—</span><style>.tour-section .section-label::before{display:none}</style></div>
        <h2 class="tour-title">TOUR DATES</h2>
      </div>
      <div class="tour-empty">
        <div class="tour-empty-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round">
            <circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/>
          </svg>
        </div>
        <div class="tour-empty-text">NO UPCOMING TRANSMISSIONS</div>
        <div class="tour-empty-sub">Signal is charging. Stay tuned for live dates.</div>
        <div class="tour-notify">
          <span class="tour-notify-dot"></span>
          <span>Follow on socials for announcements</span>
        </div>
      </div>
    </div>
  </div>
  <div class="footer"><div class="footer-logo">KROMA</div><div class="footer-copy">© 2026 — ALL SIGNALS RESERVED</div></div>
</section>

<!-- ═══ STORY ═══ -->
<section class="section" id="section-story">
  <div class="story-section">
    <div class="story-welcome">
      <p class="story-welcome-text">Welcome to</p>
      <h1 class="story-welcome-title">SMILEMORE<span style="color:var(--accent-yellow)">.</span></h1>
      <div class="story-divider-glow"></div>
    </div>
    <div class="lore-content">
      <div class="lore-block">
        <div class="lore-chapter">SMILEMORE — SYNOPSIS</div>
        <h3 class="lore-heading">The world has drained into monochrome.</h3>
        <p class="lore-text">In Smilemore, the world has drained into monochrome — a city drowned in psychedelic ink, now muted to black and white. Every citizen wears a <strong>nano-mask</strong> that suppresses emotion, keeping sanity intact while revealing their inner state: <strong style="color:var(--accent-blue)">Lux</strong>, white and good, or <strong style="color:var(--accent-red)">Nox</strong>, black and evil. Nothing remains hidden.</p>
      </div>

      <div class="lore-block">
        <div class="lore-chapter">The City</div>
        <h3 class="lore-heading">A glittering consumerist utopia.</h3>
        <p class="lore-text">The city thrives under <strong>Mayor Happy</strong>, a master of control, in a glittering consumerist utopia where desires are bought, emotions are rented, and everything — happiness, love, rage — can be purchased with money for a fleeting thrill. Yet even in this perfect monotone, some cannot be contained.</p>
      </div>

      <div class="lore-block">
        <div class="lore-chapter">The Flickers</div>
        <h3 class="lore-heading">A sudden short-circuit of the mask.</h3>
        <p class="lore-text">Occasionally, a citizen experiences a <strong>paroxysm</strong> — a flicker — a sudden short-circuit of their mask. In those fleeting moments, they see the world in <strong>selective color</strong> and perceive hidden truths. But the mask is fragile. Remove it entirely and sanity collapses within minutes, leaving only the <strong>Twisted</strong>, spiraling in madness.</p>
      </div>

      <div class="lore-block">
        <div class="lore-chapter">The Protagonist</div>
        <h3 class="lore-heading">A rogue painter. An anarchist. A signal.</h3>
        <p class="lore-text">At the heart of this world is <strong>Kroma</strong>, a rogue painter and anarchist, haunted by a tragedy that stole his memories. Lost in a city of illusions, he searches for the truth. Who stole the color from the world? What really happened to the lost city of <strong>Wondrix</strong>, the place of wonder that once pulsed with emotion?</p>
        <p class="lore-text" style="margin-top:24px;">Through murals of rebellion, hidden messages in graffiti, and daring confrontations with the authorities, Kroma fights to awaken flickers in the people around him and restore the lost spectrum of life.</p>
      </div>

      <div class="lore-block" style="text-align:center;margin-top:60px;">
        <div class="lore-welcome-final">Welcome to Smilemore.</div>
      </div>
    </div>

    <!-- Gallery Portal -->
    <div class="gallery-portal">
      <div class="gallery-border-top"></div>
      <div class="gallery-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="3" width="18" height="18" rx="2"/>
          <circle cx="8.5" cy="8.5" r="1.5"/>
          <path d="m21 15-5-5L5 21"/>
        </svg>
      </div>
      <div class="gallery-label">The Smilemore Archives</div>
      <h2 class="gallery-title">ENTER THE GALLERY</h2>
      <p class="gallery-desc">Artwork and visual transmissions from the artists who see beyond the monochrome.</p>
      <div class="gallery-grid">
        <div class="gallery-slot"><div class="gallery-placeholder"><span>I</span></div></div>
        <div class="gallery-slot"><div class="gallery-placeholder"><span>II</span></div></div>
        <div class="gallery-slot"><div class="gallery-placeholder"><span>III</span></div></div>
        <div class="gallery-slot"><div class="gallery-placeholder"><span>IV</span></div></div>
        <div class="gallery-slot"><div class="gallery-placeholder"><span>V</span></div></div>
        <div class="gallery-slot"><div class="gallery-placeholder"><span>VI</span></div></div>
      </div>
      <div class="gallery-coming">
        <span class="gallery-dot"></span>
        <span>Artwork incoming — stay tuned</span>
      </div>
    </div>

  </div>
  <div class="footer"><div class="footer-logo">KROMA</div><div class="footer-copy">© 2026 — ALL SIGNALS RESERVED</div></div>
</section>


<!-- ═══ MUSIC ═══ -->
<section class="section" id="section-music">
  <div class="music-section">
    <div class="music-header">
      <div class="section-label music-label" style="justify-content:center;color:var(--accent-blue)">Transmissions</div><style>.music-label::before{display:none!important}</style>
      <h2 class="music-title">THE SIGNAL</h2>
      <p class="music-subtitle">Listen to the music. Witness the world unfold.</p>
    </div>

    <div class="track-list">
      <div class="track-card" id="track1" onclick="toggleTrack(0)">
        <div class="track-number">01</div>
        <div class="track-play-btn" id="playBtn0">
          <svg class="play-icon" viewBox="0 0 24 24" fill="currentColor"><polygon points="6,3 20,12 6,21"/></svg>
          <svg class="pause-icon" viewBox="0 0 24 24" fill="currentColor" style="display:none"><rect x="5" y="3" width="4" height="18"/><rect x="15" y="3" width="4" height="18"/></svg>
          <div class="play-ring"></div>
          <div class="play-ring-glow"></div>
        </div>
        <div class="track-details">
          <div class="track-name">Vice & Virtue</div>
          <div class="track-meta">KROMA — Master V2</div>
          <div class="track-progress-bar">
            <div class="track-progress-fill" id="progress0"></div>
          </div>
          <div class="track-time"><span id="time0">0:00</span></div>
        </div>
        <div class="track-waveform" id="waveform0"></div>
        <audio id="audio0" preload="auto" src="../vice.mp3"></audio>
      </div>

      <div class="track-card" id="track2" onclick="toggleTrack(1)" style="opacity:0.35;pointer-events:none;">
        <div class="track-number">02</div>
        <div class="track-play-btn" id="playBtn1">
          <svg class="play-icon" viewBox="0 0 24 24" fill="currentColor"><polygon points="6,3 20,12 6,21"/></svg>
          <svg class="pause-icon" viewBox="0 0 24 24" fill="currentColor" style="display:none"><rect x="5" y="3" width="4" height="18"/><rect x="15" y="3" width="4" height="18"/></svg>
          <div class="play-ring"></div>
          <div class="play-ring-glow"></div>
        </div>
        <div class="track-details">
          <div class="track-name">Sporadic</div>
          <div class="track-meta">KROMA — Original &nbsp;·&nbsp; <span style="color:rgba(255,255,255,0.1)">Awaiting Signal</span></div>
          <div class="track-progress-bar">
            <div class="track-progress-fill" id="progress1"></div>
          </div>
          <div class="track-time"><span id="time1">0:00</span></div>
        </div>
        <div class="track-waveform" id="waveform1"></div>
        <audio id="audio1" preload="auto"></audio>
      </div>

      <div class="track-card" id="track3" onclick="toggleTrack(2)" style="opacity:0.35;pointer-events:none;">
        <div class="track-number">03</div>
        <div class="track-play-btn" id="playBtn2">
          <svg class="play-icon" viewBox="0 0 24 24" fill="currentColor"><polygon points="6,3 20,12 6,21"/></svg>
          <svg class="pause-icon" viewBox="0 0 24 24" fill="currentColor" style="display:none"><rect x="5" y="3" width="4" height="18"/><rect x="15" y="3" width="4" height="18"/></svg>
          <div class="play-ring"></div>
          <div class="play-ring-glow"></div>
        </div>
        <div class="track-details">
          <div class="track-name">Untrue</div>
          <div class="track-meta">KROMA — Awaiting Transmission</div>
          <div class="track-progress-bar">
            <div class="track-progress-fill" id="progress2"></div>
          </div>
          <div class="track-time"><span id="time2">0:00</span></div>
        </div>
        <div class="track-waveform" id="waveform2"></div>
        <audio id="audio2" preload="auto"></audio>
      </div>

      <div class="track-card" id="track4" onclick="toggleTrack(3)" style="opacity:0.35;pointer-events:none;">
        <div class="track-number">04</div>
        <div class="track-play-btn" id="playBtn3">
          <svg class="play-icon" viewBox="0 0 24 24" fill="currentColor"><polygon points="6,3 20,12 6,21"/></svg>
          <svg class="pause-icon" viewBox="0 0 24 24" fill="currentColor" style="display:none"><rect x="5" y="3" width="4" height="18"/><rect x="15" y="3" width="4" height="18"/></svg>
          <div class="play-ring"></div>
          <div class="play-ring-glow"></div>
        </div>
        <div class="track-details">
          <div class="track-name">Kaleidoscope</div>
          <div class="track-meta">KROMA — Awaiting Transmission</div>
          <div class="track-progress-bar">
            <div class="track-progress-fill" id="progress3"></div>
          </div>
          <div class="track-time"><span id="time3">0:00</span></div>
        </div>
        <div class="track-waveform" id="waveform3"></div>
        <audio id="audio3" preload="auto"></audio>
      </div>
    </div>

    <div class="music-cta">
      <a href="https://soundcloud.com/iam-kroma" target="_blank" class="music-cta-link">
        <span>Full Catalog on SoundCloud</span>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
      </a>
    </div>
  </div>
  <div class="footer"><div class="footer-logo">KROMA</div><div class="footer-copy">© 2026 — ALL SIGNALS RESERVED</div></div>
</section>

<!-- ═══ STORE ═══ -->
<section class="section" id="section-store">
  <div class="store-section">
    <div class="store-header">
      <div class="section-label store-label" style="justify-content:center;color:var(--accent-green)">Authorized Merchandise</div>
      <h2 class="store-title">THE VAULT</h2>
      <p class="store-subtitle">Official KROMA × Smilemore Collection &nbsp;·&nbsp; Currency: Nulls (Ø)</p>
    </div>
    <div class="product-grid">
      <div class="product-card"><div class="product-image"><div class="product-image-inner">SM</div></div><div class="product-info"><div class="product-tag">Apparel</div><div class="product-name">SIGNAL TEE — BLACK</div><div class="product-desc">Heavyweight cotton. KROMA frequency waveform print.</div><div class="product-price"><span class="currency">Ø</span>55</div><div class="product-cta"><button class="product-btn">Acquire</button><span class="product-status">In Stock</span></div></div></div>
      <div class="product-card"><div class="product-image"><div class="product-image-inner">NX</div></div><div class="product-info"><div class="product-tag">Apparel</div><div class="product-name">NOX HOODIE — VOID</div><div class="product-desc">French terry. Embossed Nox insignia. Oversized cut.</div><div class="product-price"><span class="currency">Ø</span>120</div><div class="product-cta"><button class="product-btn">Acquire</button><span class="product-status">Limited</span></div></div></div>
      <div class="product-card"><div class="product-image"><div class="product-image-inner">LX</div></div><div class="product-info"><div class="product-tag">Accessory</div><div class="product-name">LUX MASK — CHROME</div><div class="product-desc">Reflective chrome. Smilemore protocol aesthetic.</div><div class="product-price"><span class="currency">Ø</span>85</div><div class="product-cta"><button class="product-btn">Acquire</button><span class="product-status">Pre-Order</span></div></div></div>
      <div class="product-card"><div class="product-image"><div class="product-image-inner">KR</div></div><div class="product-info"><div class="product-tag">Vinyl</div><div class="product-name">SIGNAL EP — 12" VINYL</div><div class="product-desc">180g black vinyl. Gatefold with Smilemore map insert.</div><div class="product-price"><span class="currency">Ø</span>45</div><div class="product-cta"><button class="product-btn">Acquire</button><span class="product-status">500 Left</span></div></div></div>
      <div class="product-card"><div class="product-image"><div class="product-image-inner">FR</div></div><div class="product-info"><div class="product-tag">Art</div><div class="product-name">FREQUENCY POSTER — 24×36</div><div class="product-desc">Museum-grade print. Signal waveform visualization.</div><div class="product-price"><span class="currency">Ø</span>35</div><div class="product-cta"><button class="product-btn">Acquire</button><span class="product-status">In Stock</span></div></div></div>
      <div class="product-card"><div class="product-image"><div class="product-image-inner">▪▪</div></div><div class="product-info"><div class="product-tag">Digital</div><div class="product-name">SMILEMORE — DIGITAL PASS</div><div class="product-desc">Exclusive drops, lore content, Signal transmissions.</div><div class="product-price"><span class="currency">Ø</span>25</div><div class="product-cta"><button class="product-btn">Acquire</button><span class="product-status">Unlimited</span></div></div></div>
    </div>
  </div>
  <div class="footer"><div class="footer-logo">KROMA</div><div class="footer-copy">© 2026 — ALL SIGNALS RESERVED</div></div>
</section>

<!-- ═══ LUX OR NOX ═══ -->
<section class="section" id="section-luxnox">
  <div class="luxnox-section">
    <div class="luxnox-bg"></div>
    <div class="luxnox-content">
      <p class="luxnox-question">The threshold awaits</p>
      <div class="luxnox-title">
        <span class="luxnox-lux">LUX</span>
        <span class="luxnox-or">or</span>
        <span class="luxnox-nox">NOX</span>
      </div>
      <a href="https://luxornox.com" target="_blank" class="luxnox-enter">
        <span>Enter the System</span>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
      </a>
      <p class="luxnox-warning">External transmission — You are leaving KROMA signal range</p>
    </div>
  </div>
</section>

<script>
// ═══════════════════════════════════════════════════
// KROMA — FULL IMMERSION ENGINE
// ═══════════════════════════════════════════════════

let currentSection = 'landing';
let audioEnabled = false;
let audioCtx = null;
let sectionSounds = {};
let currentDrone = null;
let masterGain = null;

// ─── Frequency Visualizer Bars ───


// ─── Particles ───
(function createParticles() {
  const c = document.getElementById('particles');
  for (let i = 0; i < 35; i++) {
    const p = document.createElement('div');
    p.className = 'particle';
    p.style.left = Math.random()*100+'%';
    p.style.animationDuration = (15+Math.random()*25)+'s';
    p.style.animationDelay = Math.random()*20+'s';
    const s = (1+Math.random()*2)+'px';
    p.style.width = s; p.style.height = s;
    p.style.opacity = 0.04+Math.random()*0.12;
    c.appendChild(p);
  }
})();

// ─── Custom Cursor ───
const cursorDot = document.getElementById('cursorDot');
const cursorRing = document.getElementById('cursorRing');
let mx=0,my=0,rx=0,ry=0;
document.addEventListener('mousemove',e=>{
  mx=e.clientX;my=e.clientY;
  cursorDot.style.left=mx-3+'px';cursorDot.style.top=my-3+'px';
});
(function animCursor(){
  rx+=(mx-rx)*0.12;ry+=(my-ry)*0.12;
  cursorRing.style.left=rx+'px';cursorRing.style.top=ry+'px';
  requestAnimationFrame(animCursor);
})();
document.querySelectorAll('a,button,.product-card,.lore-image-slot').forEach(el=>{
  el.addEventListener('mouseenter',()=>cursorRing.classList.add('hovering'));
  el.addEventListener('mouseleave',()=>cursorRing.classList.remove('hovering'));
});

// ─── Nav Scroll ───
window.addEventListener('scroll',()=>{
  document.getElementById('nav').classList.toggle('scrolled',window.scrollY>60);
});

// ═══════════════════════════════════════════════════
// AUDIO ENGINE — Per-Section Sound Design
// ═══════════════════════════════════════════════════

function initAudio() {
  audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  masterGain = audioCtx.createGain();
  masterGain.gain.value = 0;
  
  // Compressor for clean output
  const comp = audioCtx.createDynamicsCompressor();
  comp.threshold.value = -24;
  comp.ratio.value = 4;
  masterGain.connect(comp);
  comp.connect(audioCtx.destination);
}

// ═══════════════════════════════════════════════════
// CINEMATIC MUSIC ENGINE — Real musical compositions
// ═══════════════════════════════════════════════════

class MusicEngine {
  constructor(ctx, dest) {
    this.ctx = ctx;
    this.dest = dest;
    this.nodes = [];
    this.intervals = [];
    this.stopped = false;
  }

  osc(type, freq) {
    const o = this.ctx.createOscillator();
    o.type = type; o.frequency.value = freq;
    this.nodes.push(o);
    return o;
  }

  gain(val) {
    const g = this.ctx.createGain();
    g.gain.value = val;
    return g;
  }

  filter(type, freq, q) {
    const f = this.ctx.createBiquadFilter();
    f.type = type; f.frequency.value = freq; if(q) f.Q.value = q;
    return f;
  }

  // Play a note with attack/release envelope
  playNote(freq, startTime, duration, vol, type, filterFreq, dest) {
    if (this.stopped) return;
    const ctx = this.ctx;
    const o = ctx.createOscillator();
    o.type = type || 'sine';
    o.frequency.value = freq;

    const g = ctx.createGain();
    const attack = Math.min(duration * 0.15, 0.3);
    const release = Math.min(duration * 0.4, 1.5);
    g.gain.setValueAtTime(0, startTime);
    g.gain.linearRampToValueAtTime(vol, startTime + attack);
    g.gain.setValueAtTime(vol, startTime + duration - release);
    g.gain.linearRampToValueAtTime(0, startTime + duration);

    if (filterFreq) {
      const f = ctx.createBiquadFilter();
      f.type = 'lowpass'; f.frequency.value = filterFreq; f.Q.value = 0.7;
      o.connect(f); f.connect(g);
    } else {
      o.connect(g);
    }
    g.connect(dest || this.dest);

    o.start(startTime);
    o.stop(startTime + duration + 0.1);
  }

  // Play chord
  playChord(freqs, startTime, duration, vol, type, filterFreq, dest) {
    freqs.forEach(f => this.playNote(f, startTime, duration, vol, type, filterFreq, dest));
  }

  stop() {
    this.stopped = true;
    this.intervals.forEach(id => clearInterval(id));
    this.intervals = [];
    this.nodes.forEach(n => { try { n.stop(); } catch(e){} });
    this.nodes = [];
  }

  loop(fn, intervalSec) {
    fn();
    const id = setInterval(() => { if (!this.stopped) fn(); }, intervalSec * 1000);
    this.intervals.push(id);
  }
}

// ── Note frequencies ──
const N = {
  C2:65.41, D2:73.42, Eb2:77.78, E2:82.41, F2:87.31, G2:98, Ab2:103.83, A2:110, Bb2:116.54, B2:123.47,
  C3:130.81, D3:146.83, Eb3:155.56, E3:164.81, F3:174.61, G3:196, Ab3:207.65, A3:220, Bb3:233.08, B3:246.94,
  C4:261.63, D4:293.66, Eb4:311.13, E4:329.63, F4:349.23, G4:392, Ab4:415.30, A4:440, Bb4:466.16, B4:493.88,
  C5:523.25, D5:587.33, Eb5:622.25, E5:659.26, G5:783.99
};

function createSectionMusic(section) {
  const ctx = audioCtx;
  const eng = new MusicEngine(ctx, masterGain);

  // Reverb-like effect using delays
  const reverbG = ctx.createGain(); reverbG.gain.value = 0.3;
  const del1 = ctx.createDelay(); del1.delayTime.value = 0.12;
  const del2 = ctx.createDelay(); del2.delayTime.value = 0.24;
  const del3 = ctx.createDelay(); del3.delayTime.value = 0.37;
  const dg1 = ctx.createGain(); dg1.gain.value = 0.25;
  const dg2 = ctx.createGain(); dg2.gain.value = 0.15;
  const dg3 = ctx.createGain(); dg3.gain.value = 0.08;
  const lpf = ctx.createBiquadFilter(); lpf.type='lowpass'; lpf.frequency.value=2000;

  reverbG.connect(del1); del1.connect(dg1); dg1.connect(lpf);
  reverbG.connect(del2); del2.connect(dg2); dg2.connect(lpf);
  reverbG.connect(del3); del3.connect(dg3); dg3.connect(lpf);
  lpf.connect(masterGain);

  const dry = ctx.createGain(); dry.gain.value = 0.7;
  dry.connect(masterGain);
  const wet = reverbG;

  if (section === 'landing') {
    // ── ORIGIN: Cinematic dark ambient with slow piano-like arpeggios ──
    // Key: Cm - dark, brooding, cinematic
    const bpm = 50;
    const beatLen = 60/bpm;
    const loopLen = beatLen * 16; // 16 beats per loop

    eng.loop(() => {
      const t = ctx.currentTime + 0.05;

      // Slow bass movement: C - Ab - Eb - G
      const bassNotes = [N.C2, N.Ab2, N.Eb2, N.G2];
      bassNotes.forEach((note, i) => {
        eng.playNote(note, t + i*beatLen*4, beatLen*4.5, 0.06, 'sine', 120, dry);
        eng.playNote(note*2, t + i*beatLen*4, beatLen*4.5, 0.02, 'triangle', 200, dry);
      });

      // Ethereal pad chords
      const chords = [
        [N.C3, N.Eb3, N.G3, N.C4],        // Cm
        [N.Ab2, N.C3, N.Eb3, N.Ab3],       // Ab
        [N.Eb3, N.G3, N.Bb3, N.Eb4],       // Eb
        [N.G2, N.B2, N.D3, N.G3]           // G (dominant)
      ];
      chords.forEach((chord, i) => {
        eng.playChord(chord, t + i*beatLen*4 + 0.5, beatLen*5, 0.018, 'sine', 400, wet);
      });

      // Slow cinematic melody — high register, sparse
      const melody = [
        {n:N.G4,t:0,d:3}, {n:N.Eb4,t:3.5,d:2}, {n:N.D4,t:6,d:4},
        {n:N.C4,t:11,d:2.5}, {n:N.Eb4,t:14,d:3}
      ];
      melody.forEach(m => {
        eng.playNote(m.n, t + m.t*beatLen, m.d*beatLen, 0.025, 'sine', 800, wet);
      });
    }, loopLen);

  } else if (section === 'luxnox') {
    // ── LUX OR NOX: Tense, evolving, two-sided — suspenseful film score ──
    const bpm = 65;
    const beatLen = 60/bpm;
    const loopLen = beatLen * 16;

    eng.loop(() => {
      const t = ctx.currentTime + 0.05;

      // Alternating bass: tension between C and F# (tritone)
      const bassPattern = [N.C2, N.C2, N.C2, N.C2, 0, 0, N.Eb2, N.Eb2,
                          N.Ab2, N.Ab2, N.Ab2, N.Ab2, 0, 0, N.G2, N.G2];
      bassPattern.forEach((note, i) => {
        if (note) eng.playNote(note, t + i*beatLen, beatLen*1.8, 0.05, 'sine', 150, dry);
      });

      // Suspenseful string-like sustained chords
      const chords = [
        [N.C3, N.Eb3, N.G3, N.B3],       // Cm(maj7) — unsettling
        [N.Ab2, N.C3, N.Eb3, N.G3],       // Ab
        [N.Ab2, N.B2, N.D3, N.F3],        // dim tension
        [N.G2, N.B2, N.D3, N.F3]          // G7 — wants to resolve
      ];
      chords.forEach((chord, i) => {
        eng.playChord(chord, t + i*beatLen*4, beatLen*5, 0.015, 'triangle', 500, wet);
      });

      // Ticking rhythm — like a clock
      for (let i = 0; i < 16; i++) {
        eng.playNote(N.G5, t + i*beatLen, 0.05, 0.008, 'sine', 3000, dry);
      }

      // Sparse haunting melody
      const melody = [
        {n:N.Eb4,t:1,d:2.5}, {n:N.D4,t:4,d:1.5}, {n:N.B3,t:6,d:3},
        {n:N.C4,t:10,d:2}, {n:N.Ab3,t:13,d:3}
      ];
      melody.forEach(m => {
        eng.playNote(m.n, t + m.t*beatLen, m.d*beatLen, 0.02, 'sine', 900, wet);
      });
    }, loopLen);

  } else if (section === 'music') {
    // ── MUSIC: Ambient pulse — stays out of the way of actual tracks ──
    const bpm = 60;
    const beatLen = 60/bpm;
    const loopLen = beatLen * 16;

    eng.loop(() => {
      const t = ctx.currentTime + 0.05;
      // Very subtle low drone only — doesn't compete with SoundCloud players
      const bassNotes = [N.C2, N.G2, N.A2, N.E2];
      bassNotes.forEach((note, i) => {
        eng.playNote(note, t + i*beatLen*4, beatLen*5, 0.025, 'sine', 80, dry);
      });
    }, loopLen);

  } else if (section === 'store') {
    // ── STORE: Clean, minimal, modern — electronic pulse with melody ──
    const bpm = 75;
    const beatLen = 60/bpm;
    const loopLen = beatLen * 16;

    eng.loop(() => {
      const t = ctx.currentTime + 0.05;

      // Tight bass pulse
      const bassPattern = [N.E2,0,0,N.E2, 0,N.E2,0,0, N.A2,0,0,N.A2, 0,N.G2,0,N.G2];
      bassPattern.forEach((note,i) => {
        if(note) eng.playNote(note, t + i*beatLen, beatLen*0.8, 0.05, 'sine', 160, dry);
      });

      // Soft pad — Em feel
      const chords = [
        [N.E3, N.G3, N.B3],
        [N.A3, N.C4, N.E4],
        [N.G3, N.B3, N.D4],
        [N.G3, N.B3, N.D4]
      ];
      chords.forEach((chord,i) => {
        eng.playChord(chord, t + i*beatLen*4, beatLen*5, 0.012, 'sine', 600, wet);
      });

      // Plucky arpeggio — gives it movement
      const arp = [N.E4,N.G4,N.B4,N.E5, N.B4,N.G4,N.E4,N.G4,
                   N.A4,N.C5,N.E5,N.C5, N.B4,N.G4,N.D4,N.G4];
      arp.forEach((note,i) => {
        eng.playNote(note, t + i*beatLen, beatLen*0.6, 0.015, 'sine', 1200, wet);
      });
    }, loopLen);

  } else if (section === 'story') {
    // ── STORY: Emotional, haunting, beautiful — cinematic piano-like ──
    const bpm = 55;
    const beatLen = 60/bpm;
    const loopLen = beatLen * 20; // longer loop for more drama

    eng.loop(() => {
      const t = ctx.currentTime + 0.05;

      // Deep sustained bass
      const bassNotes = [{n:N.A2,t:0,d:5}, {n:N.F2,t:5,d:5},
                         {n:N.D2,t:10,d:5}, {n:N.E2,t:15,d:5}];
      bassNotes.forEach(b => {
        eng.playNote(b.n, t + b.t*beatLen, b.d*beatLen, 0.05, 'sine', 130, dry);
      });

      // Am - F - Dm - E progression (emotional, cinematic)
      const chords = [
        [N.A3, N.C4, N.E4],        // Am
        [N.F3, N.A3, N.C4],        // F
        [N.D3, N.F3, N.A3],        // Dm
        [N.E3, N.Ab3, N.B3]        // E (the resolve tension)
      ];
      chords.forEach((chord,i) => {
        eng.playChord(chord, t + i*beatLen*5 + 1, beatLen*6, 0.02, 'sine', 500, wet);
        // Double at octave for richness
        eng.playChord(chord.map(f=>f*2), t + i*beatLen*5 + 1.5, beatLen*5, 0.006, 'triangle', 800, wet);
      });

      // Emotional melody — telling a story
      const melody = [
        {n:N.E4,t:0.5,d:2}, {n:N.A4,t:2.5,d:3}, {n:N.G4,t:5.5,d:1.5},
        {n:N.F4,t:7,d:3}, {n:N.E4,t:10.5,d:2}, {n:N.D4,t:12.5,d:2},
        {n:N.C4,t:14.5,d:1.5}, {n:N.D4,t:16,d:2}, {n:N.E4,t:18,d:3}
      ];
      melody.forEach(m => {
        eng.playNote(m.n, t + m.t*beatLen, m.d*beatLen, 0.028, 'sine', 1000, wet);
      });

      // Counter-melody — sparse high notes
      const counter = [
        {n:N.C5,t:3,d:3}, {n:N.A4,t:8,d:2}, {n:N.F4,t:13,d:2.5}, {n:N.E5,t:17,d:3}
      ];
      counter.forEach(m => {
        eng.playNote(m.n, t + m.t*beatLen, m.d*beatLen, 0.012, 'sine', 1400, wet);
      });
    }, loopLen);
  }

  return eng;
}

function startSectionSound(section) {
  if (!audioCtx || !audioEnabled) return;

  // Fade out current — fast crossfade
  if (currentDrone) {
    const old = currentDrone;
    old.gain.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 0.3);
    setTimeout(() => { old.engine.stop(); }, 500);
  }

  const g = audioCtx.createGain();
  g.gain.value = 0;
  g.connect(masterGain);

  const engine = createSectionMusic(section);

  g.gain.linearRampToValueAtTime(1, audioCtx.currentTime + 0.4);
  currentDrone = { gain: g, engine };
}



function toggleAudio() {
  const btn = document.getElementById('audioToggle');
  if (!audioCtx) initAudio();
  
  audioEnabled = !audioEnabled;
  btn.classList.toggle('muted', !audioEnabled);
  
  if (audioEnabled) {
    audioCtx.resume();
    masterGain.gain.linearRampToValueAtTime(1, audioCtx.currentTime + 1.5);
    startSectionSound(currentSection);
    btn.querySelector('.audio-label').textContent = 'Sound On';
  } else {
    masterGain.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 1);
    btn.querySelector('.audio-label').textContent = 'Enable Sound';
  }
}

function playNavSound() {
  if (!audioCtx || !audioEnabled) return;
  const o = audioCtx.createOscillator();
  const g = audioCtx.createGain();
  o.type='sine'; o.frequency.value=600;
  o.frequency.exponentialRampToValueAtTime(200, audioCtx.currentTime+0.4);
  g.gain.value=0.04;
  g.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime+0.4);
  o.connect(g); g.connect(masterGain);
  o.start(); o.stop(audioCtx.currentTime+0.4);
}

function playHoverSound() {
  if (!audioCtx || !audioEnabled) return;
  const o = audioCtx.createOscillator();
  const g = audioCtx.createGain();
  o.type='sine'; o.frequency.value=900;
  g.gain.value=0.012;
  g.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime+0.12);
  o.connect(g); g.connect(masterGain);
  o.start(); o.stop(audioCtx.currentTime+0.12);
}

document.querySelectorAll('.nav-link,.social-link,.product-btn,.luxnox-enter').forEach(el=>{
  el.addEventListener('mouseenter', playHoverSound);
});

// ─── Navigation ───
function navigateTo(sectionName) {
  if (sectionName === currentSection) return;
  
  const transition = document.getElementById('pageTransition');
  transition.classList.add('active');
  if (audioEnabled) playNavSound();
  
  setTimeout(() => {
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    const target = document.getElementById('section-' + sectionName);
    if (target) { target.classList.add('active'); window.scrollTo(0,0); }
    
    document.querySelectorAll('.nav-link').forEach(link => {
      link.classList.toggle('active', link.dataset.section === sectionName);
    });
    
    currentSection = sectionName;
    startSectionSound(sectionName);
    
    if (sectionName === 'story') {
      triggerInkEffect();
      setTimeout(observeLoreBlocks, 300);
    }
  }, 250);
  
  setTimeout(() => transition.classList.remove('active'), 550);
}

// ─── Ink Effect ───
function triggerInkEffect() {
  const canvas = document.getElementById('inkCanvas');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  canvas.classList.add('active');
  
  ctx.fillStyle = '#000';
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  
  let circles = [];
  for (let i = 0; i < 25; i++) {
    circles.push({
      x: Math.random()*canvas.width, y: Math.random()*canvas.height,
      r: 0, maxR: 100+Math.random()*500, speed: 2+Math.random()*8,
      delay: Math.random()*30
    });
  }
  
  let frame = 0;
  function anim() {
    frame++;
    ctx.globalCompositeOperation = 'destination-out';
    circles.forEach(c => {
      if (frame > c.delay && c.r < c.maxR) {
        c.r += c.speed;
        ctx.beginPath(); ctx.arc(c.x, c.y, c.r, 0, Math.PI*2); ctx.fill();
      }
    });
    if (frame < 180) requestAnimationFrame(anim);
    else { canvas.classList.remove('active'); ctx.clearRect(0,0,canvas.width,canvas.height); }
  }
  anim();
}

// ─── Lore Observer ───
function observeLoreBlocks() {
  const obs = new IntersectionObserver(entries => {
    entries.forEach(e => { if(e.isIntersecting) e.target.classList.add('visible'); });
  }, {threshold:0.15});
  document.querySelectorAll('.lore-block').forEach(b => obs.observe(b));
}

// ─── Parallax ───
document.addEventListener('mousemove', e => {
  if (currentSection !== 'landing') return;
  const px = (e.clientX/window.innerWidth - 0.5)*2;
  const py = (e.clientY/window.innerHeight - 0.5)*2;
  const hc = document.querySelector('.hero-content');
  if(hc) hc.style.transform = `translate(${px*-8}px,${py*-5}px)`;
  const grid = document.querySelector('.hero-grid');
  if(grid) grid.style.transform = `translate(${px*15}px,${py*10}px)`;
});

// ─── Audio bar animation ───
(function animBars() {
  if (audioEnabled) {
    document.querySelectorAll('.audio-toggle .audio-bar').forEach(bar => {
      bar.style.height = (3+Math.random()*14)+'px';
    });
  }
  requestAnimationFrame(animBars);
})();

// Initial lore observer
setTimeout(observeLoreBlocks, 500);

window.addEventListener('resize', () => {
  const c = document.getElementById('inkCanvas');
  c.width = window.innerWidth; c.height = window.innerHeight;
});





// ═══════════════════════════════════════════════════
// MUSIC PLAYER — Direct MP3 Playback
// ═══════════════════════════════════════════════════

const trackStates = [false, false, false, false];
const trackCount = 4;
const audioElements = [null, null, null, null];
let progressIntervals = [null, null, null, null];

// Generate waveform bars for each track
function initWaveforms() {
  for (let t = 0; t < trackCount; t++) {
    const wf = document.getElementById('waveform' + t);
    if (!wf) continue;
    for (let i = 0; i < 80; i++) {
      const bar = document.createElement('div');
      bar.className = 'wv-bar';
      bar.style.height = '1px';
      wf.appendChild(bar);
    }
  }
}
initWaveforms();

// Animate waveform bars when playing
function animateWaveforms() {
  for (let t = 0; t < trackCount; t++) {
    const wf = document.getElementById('waveform' + t);
    if (!wf) continue;
    const bars = wf.querySelectorAll('.wv-bar');
    if (trackStates[t]) {
      const total = bars.length;
      bars.forEach((bar, i) => {
        const norm = i / total;
        const t2 = Date.now() * 0.002;
        const wave1 = Math.sin(norm * 6.28 * 3 + t2) * 0.4;
        const wave2 = Math.sin(norm * 6.28 * 7 + t2 * 1.3) * 0.25;
        const wave3 = Math.sin(norm * 6.28 * 1.5 + t2 * 0.7) * 0.35;
        const combined = (wave1 + wave2 + wave3 + 1) * 0.5;
        const h = 4 + combined * 80 + Math.random() * 3;
        bar.style.height = h + '%';
      });
    } else {
      bars.forEach(bar => bar.style.height = '1px');
    }
  }
  requestAnimationFrame(animateWaveforms);
}
animateWaveforms();

// Init audio elements
function initAudioPlayers() {
  for (let i = 0; i < trackCount; i++) {
    const el = document.getElementById('audio' + i);
    if (el) {
      audioElements[i] = el;
      el.addEventListener('ended', () => setTrackStopped(i));
      el.addEventListener('timeupdate', () => updateProgress(i));
    }
  }
}

function updateProgress(idx) {
  const el = audioElements[idx];
  if (!el || !el.duration) return;
  const pct = (el.currentTime / el.duration) * 100;
  const bar = document.getElementById('progress' + idx);
  if (bar) bar.style.width = pct + '%';
  const sec = Math.floor(el.currentTime);
  const m = Math.floor(sec / 60);
  const s = sec % 60;
  const total = Math.floor(el.duration);
  const tm = Math.floor(total / 60);
  const ts = total % 60;
  const timeEl = document.getElementById('time' + idx);
  if (timeEl) timeEl.textContent = m + ':' + (s<10?'0':'') + s + ' / ' + tm + ':' + (ts<10?'0':'') + ts;
}

function setTrackPlaying(idx) {
  trackStates[idx] = true;
  const card = document.getElementById('track' + (idx+1));
  const btn = document.getElementById('playBtn' + idx);
  if (card) card.classList.add('playing');
  if (btn) {
    btn.querySelector('.play-icon').style.display = 'none';
    btn.querySelector('.pause-icon').style.display = 'block';
  }
}

function setTrackStopped(idx) {
  trackStates[idx] = false;
  const card = document.getElementById('track' + (idx+1));
  const btn = document.getElementById('playBtn' + idx);
  if (card) card.classList.remove('playing');
  if (btn) {
    btn.querySelector('.play-icon').style.display = 'block';
    btn.querySelector('.pause-icon').style.display = 'none';
  }
}

function toggleTrack(idx) {
  const el = audioElements[idx];
  if (!el) return;

  if (trackStates[idx]) {
    el.pause();
    setTrackStopped(idx);
  } else {
    // Stop other tracks first
    for (let i = 0; i < trackCount; i++) {
      if (i !== idx && trackStates[i] && audioElements[i]) {
        audioElements[i].pause();
        setTrackStopped(i);
      }
    }
    el.play().catch(e => console.log('Playback blocked:', e));
    setTrackPlaying(idx);
    if (audioEnabled) playNavSound();
  }
}

// Init on load
setTimeout(initAudioPlayers, 300);

</script>
</body>
</html>
